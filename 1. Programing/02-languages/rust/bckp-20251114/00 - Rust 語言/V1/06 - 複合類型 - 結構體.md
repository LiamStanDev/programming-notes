### 介紹
結構體可以提供更高級的數據結構來**提高程式的抽象程度**，他與 `tup` 一樣可以組合不同的類型，但不同的它可以為**可以為內部字段起有意義的名稱**，故結構體更靈活強大。

### 語法
##### 定義結構體
```rust
struct User {
	active: bool,
	username: String,
	email: String,
	sign_in_count: u64
}
```

##### 創建實例
初始化實例時，**所有字段都要初始化**。
```rust
let user1 = User {
	email: String::from("liam0107@gmail.com"),
	username: String::from("liam"),
	active: true,
	sign_in_count: 1
};
```

> 結構體為一個整體，不能單獨設定字段可變。

##### 更新語法
```rust
let user2 = {
	email: String::from("geffc1454@gmail.com"),
	..user1,
};
```

> 注意 user1 部分字段所有權會被 move 到 user2，故 user1 不能訪問 username 字段。

### 內存模型
```rust
struct File {
	name: String,
	data: Vec<u8>,
}

fn main() {
	let f1 = File {
		name: String::from("f1.txt"),
		data: Vec::new(),
	};
	let f1_name: &String = &f1.name;
  let data: &Vec<u8> = &f1.data;
}
```
![[Pasted image 20240315084741.png]]

### 其他結構體
#### 更簡單的結構體 - 元組結構體 (Tuple Struct)
```rust
struct Color(i32, i32, i32);

let black = Color(0, 0, 0);
```

#### 只有行為的結構體 - 單元結構體 (Unit-like Struct)
```rust
struct AAA;

impl ATrait for AAA {
		// ...
}
```
