# å®èˆ‡å…ƒç·¨ç¨‹æœ€ä½³å¯¦è¸

> åŸºæ–¼ Rust 1.90+ (2025) | è¨­è¨ˆå„ªç§€çš„å®

## ğŸ“‹ æ¦‚è¿°

æœ¬ç« ç¸½çµå®é–‹ç™¼çš„æœ€ä½³å¯¦è¸ã€å¸¸è¦‹é™·é˜±å’Œæ€§èƒ½å„ªåŒ–æŠ€å·§ã€‚

---

## ğŸ¯ è¨­è¨ˆåŸå‰‡

### 1. æœ€å°é©šè¨åŸå‰‡

å®çš„è¡Œç‚ºæ‡‰è©²ç¬¦åˆç”¨æˆ¶çš„ç›´è¦ºé æœŸã€‚

```rust
// âœ… å¥½: ç›´è§€çš„èªæ³•
let v = vec![1, 2, 3];

// âŒ ä¸å¥½: é•åç›´è¦º
let v = vec_weird!{1; 2; 3};
```

### 2. æä¾›æ¸…æ™°çš„éŒ¯èª¤ä¿¡æ¯

```rust
use syn::Error;

let error = Error::new(
    span,
    "Expected a struct with named fields"
);
```

---

## ğŸ”§ æ€§èƒ½å„ªåŒ–

### ç·¨è­¯æ™‚é–“å„ªåŒ–

1. æ¸›å°‘ç”Ÿæˆçš„ä»£ç¢¼é‡
2. é¿å…ä¸å¿…è¦çš„æ³›å‹å±•é–‹
3. ä½¿ç”¨å¢é‡ç·¨è­¯

---

## ğŸ“ æ¸¬è©¦ç­–ç•¥

### å–®å…ƒæ¸¬è©¦

```rust
#[cfg(test)]
mod tests {
    use super::*;
    
    #[test]
    fn test_macro_expansion() {
        // æ¸¬è©¦å®å±•é–‹çµæœ
    }
}
```

### é›†æˆæ¸¬è©¦

```rust
// tests/integration.rs
#[test]
fn test_derive_macro() {
    #[derive(MyMacro)]
    struct TestStruct {
        field: String,
    }
}
```

---

## ğŸ“– åƒè€ƒè³‡æ–™

1. [The Little Book of Rust Macros](https://veykril.github.io/tlborm/)
2. [Rust Macro Workshop](https://github.com/dtolnay/proc-macro-workshop)

---

*æœ€å¾Œæ›´æ–°: 2025-01-17*  
*Rust ç‰ˆæœ¬: 1.90+*
