### 下載與安裝
1. 下載 dotnet installation script: [dotnet-install.sh](https://dotnet.microsoft.com/en-us/download/dotnet/scripts)

2. 執行下載(可以多版本)
```shell
chmod u+x ./dotnet-install.sh
./dotnet-install.sh --install-dir ~/.local/dotnet --version latest --os linux --verbose
```

3. 檢查
```shell
dotnet --version
dotnet --list-sdks
```

### CLI 使用
##### 1. 建立解決方案
```shell
dotnet new sln
```

##### 2. 建立項目
```shell
dotnet new webapi --name API --framework net8.0
```
* 可以添加 `--use-program-main` 
> 參見 dotnet new list

##### 3. 添加到解決方案
```shell
dotnet sln add src/Test
```

##### 4. 添加項目依賴
```shell
dotnet add src/Target referece src/Srouce
```

##### 5. 添加外部包
```shell
dotnet add src/Target package Microsoft.EntityFrameworkCore --version 9.0.0-preview.1.24081.2
dotnet restore # 下載外部依賴
```
##### 6. 執行
```shell
dotnet run --project API
dotnet watch --project API --no-hot-reload
```

##### 7. 單元測試
```shell
dotnet test
```

##### 8. 構建
```shell
# Debug
dotnet build
# Release
dotnet publish -c Release --sc -r win-64 -o out
```
> publish vs. build: 
> 主要差別在 publish 會將所有依賴進行打包，而 build 只會進行編譯，故要發布的話使用 publish，且 publish 也支持其他打包選項如 `--sc`, `-r`, `-o` 等
> 
> `--sc`: 表示 self contain，實測會增加 80 MBi
> `-r`: 表示 Runtime Identifier 如 win-x64，[查閱](https://learn.microsoft.com/en-us/dotnet/core/rid-catalog)
> `-o`: 表示輸出地

##### 7. 清理
```shell
dotnet clean
```

### Dotnet tool
##### 下載
* 可在nuget網站上查詢
```shell
dotnet tool install --global dotnet-ef --version 7.0.12
```
##### 列出所有的工具
```shell
dotnet tool list # 所在目錄
dotnet tool list -g # 全局的
```
##### 更新
```shell
dotnet tool update -g dotnet-ef
```


### 案例: Clean Architecture Project
![[01 - Project Setup#項目建立]]
